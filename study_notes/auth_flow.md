# 🎓 7교시: 인증 흐름 이해하기 (Authentication Flow)

인증(Authentication)은 건물의 출입 통제 시스템과 비슷합니다. 우리가 만든 이 시스템이 어떻게 작동하는지 알아볼까요?

## 1. 토큰(Token) = 출입증 🪪

로그인에 성공하면 서버는 우리에게 **"토큰(Token)"**이라는 긴 문자열을 줍니다. 이것은 디지털 **출입증**입니다.

- **로그인 전**: 경비원(서버)이 누군지 모르니까 문을 안 열어줌.
- **로그인 성공**: 경비원이 "확인되었습니다"라며 **출입증(토큰)**을 발급해줌.
- **로그인 후**: 이제 매번 아이디/비번을 칠 필요 없이, **출입증만 보여주면** 문이 열림!

우리가 사용하는 토큰 방식은 주로 **JWT (Json Web Token)**라고 부릅니다.

## 2. 금고(localStorage) = 브라우저의 주머니 💾

서버한테 받은 소중한 출입증을 어디에 보관해야 할까요?
브라우저에는 몇 가지 저장 공간이 있는데, 가장 다루기 쉬운 곳이 **`localStorage`**입니다.

- **특징**: 브라우저를 껐다 켜도 데이터가 남아있습니다. (마치 주머니에 넣어둔 것처럼)
- **사용법**:

  ```javascript
  // 저장하기 (주머니에 넣기)
  localStorage.setItem("key", "value");

  // 꺼내기 (주머니에서 찾기)
  const value = localStorage.getItem("key");

  // 버리기 (주머니 비우기 - 로그아웃)
  localStorage.removeItem("key");
  ```

> ⚠️ **보안 주의**: 실무에서는 `localStorage`가 자바스크립트로 쉽게 접근 가능해서 해킹(XSS)에 취약할 수 있습니다. 그래서 아주 중요한 서비스(은행 등)에서는 `Cookie`의 `HttpOnly` 옵션을 사용합니다. 하지만 학습 단계에서는 `localStorage`가 개념을 익히기에 가장 좋습니다!

## 3. 회원가입 (Sign Up) 📝

로그인을 하려면 먼저 "내 정보"가 서버에 있어야겠죠? 회원가입은 서버의 장부(데이터베이스)에 내 이름을 적는 과정입니다.

- **흐름**:
  1.  유저가 이메일, 비번, 닉네임을 입력.
  2.  `POST /users` 주소로 전송.
  3.  서버는 중복된 이메일인지 확인하고, 비밀번호를 암호화해서 저장.
  4.  성공하면 "가입 완료!" 응답.
  5.  유저는 이제 로그인 페이지로 가서 방금 만든 아이디로 **출입증**을 받으러 감.

자, 이제 이 개념들을 코드로 옮겨봅시다! 🚀
